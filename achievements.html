<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>WrongMaps ‚Äî Achievements of Questionable Usefulness</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
    body {
        font-family: 'Comic Sans MS', cursive, sans-serif;
        background: linear-gradient(135deg, #ff6f61, #ffcc00, #00ccff, #ff00cc);
        margin: 0;
        padding: 0;
        overflow-x: hidden;
        min-height: 100vh;
        color: #333;
    }
    header {
        background-color: rgba(255,255,255,0.95);
        text-align: center;
        padding: 15px;
        font-size: 1.8rem;
        font-weight: bold;
        border-bottom: 4px dashed #ff00cc;
    }
    .badge-container {
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
        gap: 20px;
        padding: 20px;
    }
    .badge {
        width: 170px;
        height: 170px;
        background-color: rgba(255,255,255,0.9);
        border-radius: 20px;
        box-shadow: 0 4px 10px rgba(0,0,0,0.2);
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        transition: transform 0.3s ease;
        cursor: pointer;
        border: 4px solid transparent;
    }
    .badge:hover { transform: rotate(5deg) scale(1.05); }
    .badge.locked { filter: grayscale(100%); opacity: 0.6; }
    .badge-title { font-weight: bold; font-size: 1rem; text-align: center; }
    .badge-desc { font-size: 0.8rem; padding: 0 5px; text-align: center; }

    .unlock-btn, .self-destruct-btn {
        display: block;
        margin: 20px auto;
        padding: 12px 20px;
        background: #00ccff;
        border: none;
        border-radius: 10px;
        font-size: 1rem;
        cursor: pointer;
        font-weight: bold;
        color: white;
        box-shadow: 0 4px 8px rgba(0,0,0,0.2);
    }
    .unlock-btn:hover { background: #0099cc; }
    .self-destruct-btn { background: #ff4d4d; }
    .self-destruct-btn:hover { background: #cc0000; }

    #loadingBarContainer {
        display: none;
        width: 80%;
        margin: 10px auto;
        background: #ccc;
        border-radius: 10px;
        overflow: hidden;
    }
    #loadingBar {
        width: 0%;
        height: 20px;
        background: #ffcc00;
        transition: width 0.5s;
    }
    #jokePopup {
        display: none;
        position: fixed;
        bottom: 20px;
        right: 20px;
        background: #fff7c0;
        padding: 15px;
        border-radius: 10px;
        box-shadow: 0 4px 10px rgba(0,0,0,0.2);
        font-size: 0.9rem;
        z-index: 9999;
    }

    /* Flying weird place labels */
    .floating-place {
        position: fixed;
        font-size: 1rem;
        padding: 5px 10px;
        background: rgba(255,255,255,0.8);
        border-radius: 8px;
        animation: floatPlace linear forwards;
        pointer-events: none;
        white-space: nowrap;
        z-index: 1000;
    }
    @keyframes floatPlace {
        from { transform: translateY(110vh) translateX(0); opacity: 1; }
        to { transform: translateY(-20vh) translateX(200px); opacity: 0; }
    }

    /* UFO fly-by */
    .ufo {
        position: fixed;
        top: 20%;
        font-size: 2rem;
        animation: flyUfo 6s linear forwards;
        z-index: 1001;
    }
    @keyframes flyUfo {
        from { left: -100px; transform: rotate(0deg); }
        to { left: 110vw; transform: rotate(360deg); }
    }
    body.theme-dark {
  background: #121212;
  color: #ddd;
}
body.theme-dark header {
  background-color: rgba(30, 30, 30, 0.95);
  border-bottom: 4px dashed #ff66cc;
  color: #eee;
}
body.theme-dark .badge {
  background-color: rgba(50, 50, 50, 0.9);
  box-shadow: 0 4px 10px rgba(255, 255, 255, 0.1);
  border-color: #ff66cc;
  color: #eee;
}
body.theme-dark .unlock-btn {
  background: #cc99ff;
  color: #111;
}
body.theme-dark .unlock-btn:hover {
  background: #b377ff;
}
body.theme-dark .self-destruct-btn {
  background: #ff6666;
  color: #111;
}
body.theme-dark .self-destruct-btn:hover {
  background: #cc3333;
}
body.theme-dark #loadingBar {
  background: #cc99ff;
}

</style>
</head>
<body>

<header>üèÜ WrongMaps ‚Äî Achievements of Questionable Usefulness</header>

<div id="loadingBarContainer">
    <div id="loadingBar"></div>
</div>

<div class="badge-container" id="badgeContainer"></div>

<button class="unlock-btn" onclick="unlockRandomBadge()">üéØ Unlock Random Badge</button>
<button class="self-destruct-btn" onclick="selfDestruct()">üí• Self Destruct Badges</button>
<a href="index.html" class="btn btn-outline-secondary btn-sm">back to map</a>
<div class="container mt-2 text-centre">

</div>
<div id="jokePopup"></div>

<script>
    const weirdPlaces = [
        "Dull, Scotland", "Nowhere, Oklahoma", "Why, Arizona",
        "Moose Pants, Antarctica", "Pickle Swamp, North Dakota",
        "Blunder Falls, South Wiggleville", "Cheese Canyon, Utah",
        "Potato Bay, Uncharted Waters", "Penguin Hammock, Florida",
        "Accident, Maryland", "Hell, Michigan", "Chicken, Alaska",
        "Banana Stand, Nowhere", "Suspicious Island, Bermuda"
    ];

    function randomPlace() {
        return weirdPlaces[Math.floor(Math.random() * weirdPlaces.length)];
    }

    const badges = [
        { id: 1, title: "Master of Wrong Turns", desc: "Generated 10+ wrong routes in " + randomPlace(), icon: "üöó", unlocked: false },
        { id: 2, title: "Lost But Laughing", desc: "Followed a prank route completely near " + randomPlace(), icon: "üòÇ", unlocked: false },
        { id: 3, title: "Map Chaos Creator", desc: "Created a route with 5+ waypoints in " + randomPlace(), icon: "üó∫Ô∏è", unlocked: false },
        { id: 4, title: "Reverse Navigator", desc: "Went the opposite way on purpose in " + randomPlace(), icon: "üîÑ", unlocked: false },
        { id: 5, title: "Easter Egg Hunter", desc: "Found a hidden WrongMaps feature at " + randomPlace(), icon: "ü•ö", unlocked: false },
        { id: 6, title: "Spin the Wheel Champion", desc: "Spun the useless daily wheel at " + randomPlace(), icon: "üé°", unlocked: false },
    ];

    const jokes = [
        "Why did the GPS break up with the car? It lost its direction in life.",
        "This badge will guide you‚Ä¶ nowhere.",
        "Congratulations! You unlocked‚Ä¶ absolutely nothing.",
        "Your location: somewhere between here and there.",
        "Error 404: Achievement not found."
    ];

    const saved = JSON.parse(localStorage.getItem("wrongmapsBadges")) || {};
    badges.forEach(b => { if (saved[b.id]) b.unlocked = true; });

    function renderBadges() {
        const container = document.getElementById("badgeContainer");
        container.innerHTML = "";
        badges.forEach(badge => {
            const badgeEl = document.createElement("div");
            badgeEl.className = `badge ${badge.unlocked ? '' : 'locked'}`;
            badgeEl.innerHTML = `
                <div style="font-size:2rem;">${badge.icon}</div>
                <div class="badge-title">${badge.title}</div>
                <div class="badge-desc">${badge.desc}</div>
            `;
            container.appendChild(badgeEl);
        });
    }

    function unlockRandomBadge() {
        const lockedBadges = badges.filter(b => !b.unlocked);
        if (lockedBadges.length === 0) { alert("üéâ All badges unlocked!"); return; }

        document.getElementById("loadingBarContainer").style.display = "block";
        let progress = 0;
        const interval = setInterval(() => {
            progress += 20;
            document.getElementById("loadingBar").style.width = progress + "%";
            if (progress >= 100) {
                clearInterval(interval);
                setTimeout(() => {
                    document.getElementById("loadingBarContainer").style.display = "none";
                    actuallyUnlock();
                }, 500);
            }
        }, 300);

        function actuallyUnlock() {
            const randomBadge = lockedBadges[Math.floor(Math.random() * lockedBadges.length)];
            randomBadge.unlocked = true;
            localStorage.setItem("wrongmapsBadges", JSON.stringify(
                badges.reduce((acc, b) => { if (b.unlocked) acc[b.id] = true; return acc; }, {})
            ));
            renderBadges();
            playRandomSound();
            showConfetti();
            showRandomJoke();
            spawnFlyingPlace();
            maybeSpawnUFO();
            alert(`üèÜ New Badge Unlocked: ${randomBadge.title} ‚Äî You are now in ${randomPlace()}`);
        }
    }

    function showRandomJoke() {
        const popup = document.getElementById("jokePopup");
        popup.innerText = jokes[Math.floor(Math.random() * jokes.length)];
        popup.style.display = "block";
        setTimeout(() => popup.style.display = "none", 4000);
    }

    function playRandomSound() {
        const sounds = [
            "https://www.soundjay.com/button/beep-07.wav",
            "https://www.soundjay.com/button/sounds/button-4.mp3",
            "https://www.soundjay.com/button/sounds/beep-09.mp3"
        ];
        const audio = new Audio(sounds[Math.floor(Math.random() * sounds.length)]);
        audio.play();
    }

    function showConfetti() {
        for (let i = 0; i < 30; i++) {
            const confetti = document.createElement("div");
            confetti.style.position = "fixed";
            confetti.style.left = Math.random() * 100 + "vw";
            confetti.style.top = "-10px";
            confetti.style.width = "10px";
            confetti.style.height = "10px";
            confetti.style.background = `hsl(${Math.random() * 360}, 100%, 50%)`;
            confetti.style.borderRadius = "50%";
            confetti.style.animation = `fall ${Math.random() * 3 + 2}s linear`;
            document.body.appendChild(confetti);
            setTimeout(() => confetti.remove(), 5000);
        }
    }

    function spawnFlyingPlace() {
        const place = document.createElement("div");
        place.className = "floating-place";
        place.textContent = randomPlace();
        place.style.left = Math.random() * 80 + "vw";
        place.style.animationDuration = (Math.random() * 3 + 3) + "s";
        document.body.appendChild(place);
        setTimeout(() => place.remove(), 5000);
    }

    function maybeSpawnUFO() {
        if (Math.random() > 0.6) {
            const ufo = document.createElement("div");
            ufo.className = "ufo";
            ufo.textContent = "üõ∏";
            document.body.appendChild(ufo);
            setTimeout(() => ufo.remove(), 6000);
        }
    }

    function selfDestruct() {
        alert("üí• Initiating Self Destruct Sequence!");
        badges.forEach(b => b.unlocked = false);
        localStorage.removeItem("wrongmapsBadges");
        renderBadges();
        document.body.style.animation = "shake 0.5s";
        setTimeout(() => document.body.style.animation = "", 500);
    }

    renderBadges();

    const style = document.createElement("style");
    style.textContent = `
        @keyframes fall { to { transform: translateY(110vh); opacity: 0; } }
        @keyframes shake { 0% { transform: translate(1px, 1px) rotate(0deg); }
                           25% { transform: translate(-1px, -2px) rotate(-1deg); }
                           50% { transform: translate(-3px, 0px) rotate(1deg); }
                           75% { transform: translate(3px, 2px) rotate(0deg); }
                           100% { transform: translate(1px, -1px) rotate(1deg); } }
    `;
    document.head.appendChild(style);
    // Apply saved dark mode setting on page load
(function() {
  const darkModeSetting = localStorage.getItem('darkMode');
  if (darkModeSetting === 'enabled') {
    document.body.classList.add('theme-dark');
  } else {
    document.body.classList.remove('theme-dark');
  }
})();

</script>

</body>
</html>
